{% extends "_base/docstring/attributes.html.jinja" %}

{% block list_style %}
  {# Split attributes into events and properties #}
  {% set ns = namespace(events=[], props=[]) %}
  {% for attribute in section.value %}
    {% if attribute.name.startswith('on_') %}
      {% set _ = ns.events.append(attribute) %}
    {% else %}
      {% set _ = ns.props.append(attribute) %}
    {% endif %}
  {% endfor %}

  {# Small helper to render a titled list #}
  {% macro render_group(title, items) -%}
    <p><span class="doc-section-title">{{ title }}</span></p>
    <ul>
      {%- for attribute in items %}
        <li class="doc-section-item field-body">
          <b><code><autoref identifier="{{ obj.path }}.{{ attribute.name }}" optional hover>{{ attribute.name }}</autoref></code></b>
          {%- if attribute.annotation %}
            {%- with expression = attribute.annotation -%}
              (<code>{% include "expression"|get_template with context %}</code>)
            {%- endwith %}
          {%- endif %}
          â€“
          <div class="doc-md-description">
            {{ attribute.description|convert_markdown(heading_level, html_id, autoref_hook=autoref_hook) }}
          </div>
        </li>
      {%- endfor %}
    </ul>
  {%- endmacro %}

  {% if ns.props %}
    {{ render_group("Properties", ns.props) }}
  {% endif %}

  {% if ns.events %}
    {{ render_group("Events", ns.events) }}
  {% endif %}

{% endblock list_style %}
